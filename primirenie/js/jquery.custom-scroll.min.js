/* jQuery Custom Scroll plugin v0.6.5 | (c) 2014 Mostovoy Andrey | https://github.com/standy/custom-scroll/blob/master/LICENSE */
!function(t){function i(i,n){function s(o,r){i["scroll"+r.Dir](0);var e=n.prefix+"bar"+r.suffix,s=i.children("."+e);s.length||(s=t(n.barHtml).addClass(e).appendTo(i)),s.on("mousedown touchstart",function(t){t.preventDefault();var i=p["scroll"+r.Dir](),e=t[r.clientAxis]||t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0][r.clientAxis],n=a(o,r).ratio;b.on("mousemove.custom-scroll touchmove.custom-scroll",function(t){t.preventDefault();var o=t[r.clientAxis]||t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0][r.clientAxis];p["scroll"+r.Dir](i+(o-e)/n)}),b.on("mouseup.custom-scroll touchend.custom-scroll",function(){b.off(".custom-scroll")})}),y[o]=s}function a(t,o){var r=0|p.prop("scroll"+o.Dim),e=i["inner"+o.Dim](),s=p["inner"+o.Dim](),a=e-n["offset"+o.Dir]-n["offset"+o.Dir2];m["x"==t?"y":"x"]||(a-=n["track"+o.Dim]);var c=Math.max(a*e/r|0,n["barMin"+o.Dim]),l=(a-c)/(r-s);return{ratio:l,dim:e,scroll:a,total:r,bar:c}}function c(){t.each(f,l)}function l(t,o){var r=a(t,o);if(r.total){var e=p["scroll"+o.Dir]();if(u[t].scrollPos!==e||u[t].scroll!==r.scroll||u[t].total!==r.total){u[t]=r,u[t].scrollPos=e;var s=r.bar>=r.scroll;s!==m[t]&&(i.toggleClass(n.prefix+"hidden"+o.suffix,s),m[t]=s);var c=e*r.ratio;0>c&&(c=0),c>r.scroll-r.bar&&(c=r.scroll-r.bar),y[t][o.dim](r.bar).css(o.dir,n["offset"+o.Dir]+c)}}}function d(){t.each(f,function(t){y[t].remove()}),i.removeClass(n.prefix+"container").removeData("custom-scroll").css({padding:"",maxHeight:""}),p.contents().appendTo(i),p.remove()}var h=i.data("custom-scroll");n=h?h.options:t.extend({},o,n);var f={},u={},m={x:+n.vertical,y:+n.horizontal};if(n.horizontal&&(f.x=e,u.x={}),n.vertical&&(f.y=r,u.y={}),i.hasClass(n.prefix+"container")&&h)return h.updateBars(),h;var p=i.children("."+n.prefix+"inner");p.length||(p=i.wrapInner('<div class="'+n.prefix+'inner"></div>').children()),i.addClass(n.prefix+"container");var g=t('<div class="'+n.prefix+'inner" />').width(100).height(100).appendTo("body").css({overflow:"scroll"})[0],v=g.offsetWidth-g.clientWidth,x=g.offsetHeight-g.clientHeight;g.parentElement.removeChild(g),n.vertical?(p.css({paddingLeft:i.css("paddingLeft"),paddingRight:i.css("paddingRight"),marginRight:-v+"px"}),i.css({paddingLeft:0,paddingRight:0})):p.css({overflowY:"hidden"}),n.horizontal?(p.css({marginBottom:-x+"px",paddingBottom:x+"px"}),i.css({paddingTop:0,paddingBottom:0})):p.css({overflowX:"hidden"});var D=i.css("maxHeight");parseInt(D)&&(i.css("maxHeight","none"),p.css("maxHeight",D)),i.scrollTop(0);var b=t("body"),y={};t.each(f,s),p.on("scroll",c),c();var H={$container:i,$bar:y.y,$barX:y.x,$inner:p,destroy:d,updateBars:c,options:n};return i.data("custom-scroll",H),H}t.fn.customScroll=function(r){return this.length?"destroy"===r?(this.each(function(){var i=t(this).data("custom-scroll");i&&i.destroy()}),this):1===this.length?i(this,r):void this.each(function(){i(t(this),r)}):t.extend(o,r)};var o={prefix:"custom-scroll_",barMinHeight:10,barMinWidth:10,offsetTop:0,offsetBottom:0,offsetLeft:0,offsetRight:0,trackWidth:10,trackHeight:10,barHtml:"<div />",vertical:!0,horizontal:!0},r={dim:"height",Dim:"Height",dir:"top",Dir:"Top",dir2:"bottom",Dir2:"Bottom",clientAxis:"clientY",suffix:"-y"},e={dim:"width",Dim:"Width",dir:"left",Dir:"Left",dir2:"right",Dir2:"Right",clientAxis:"clientX",suffix:"-x"}}(jQuery);